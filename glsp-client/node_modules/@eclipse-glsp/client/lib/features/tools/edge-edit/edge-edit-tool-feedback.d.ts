import { VNode } from 'snabbdom';
import { Action, AnchorComputerRegistry, CommandExecutionContext, CommandReturn, Disposable, EdgeRouterRegistry, ElementMove, ISnapper, MouseListener, Point, GConnectableElement, GModelElement, GRoutingHandle, SwitchEditModeAction, SwitchEditModeCommand } from '@eclipse-glsp/sprotty';
import { IFeedbackActionDispatcher } from '../../../base/feedback/feedback-action-dispatcher';
import { FeedbackCommand } from '../../../base/feedback/feedback-command';
import { PointPositionUpdater } from '../../change-bounds/snap';
import { FeedbackEdgeEndMovingMouseListener } from '../edge-creation/edge-creation-tool-feedback';
/**
 * RECONNECT HANDLES FEEDBACK
 */
export interface ShowEdgeReconnectHandlesFeedbackAction extends Action {
    kind: typeof ShowEdgeReconnectHandlesFeedbackAction.KIND;
    readonly elementId: string;
}
export declare namespace ShowEdgeReconnectHandlesFeedbackAction {
    const KIND = "showReconnectHandlesFeedback";
    function is(object: any): object is ShowEdgeReconnectHandlesFeedbackAction;
    function create(elementId: string): ShowEdgeReconnectHandlesFeedbackAction;
}
export interface HideEdgeReconnectHandlesFeedbackAction extends Action {
    kind: typeof HideEdgeReconnectHandlesFeedbackAction.KIND;
}
export declare namespace HideEdgeReconnectHandlesFeedbackAction {
    const KIND = "hideReconnectHandlesFeedback";
    function is(object: any): object is HideEdgeReconnectHandlesFeedbackAction;
    function create(): HideEdgeReconnectHandlesFeedbackAction;
}
export declare class ShowEdgeReconnectHandlesFeedbackCommand extends FeedbackCommand {
    protected action: ShowEdgeReconnectHandlesFeedbackAction;
    static readonly KIND = "showReconnectHandlesFeedback";
    constructor(action: ShowEdgeReconnectHandlesFeedbackAction);
    execute(context: CommandExecutionContext): CommandReturn;
}
export declare class HideEdgeReconnectHandlesFeedbackCommand extends FeedbackCommand {
    protected action: HideEdgeReconnectHandlesFeedbackAction;
    static readonly KIND = "hideReconnectHandlesFeedback";
    constructor(action: HideEdgeReconnectHandlesFeedbackAction);
    execute(context: CommandExecutionContext): CommandReturn;
}
/**
 * ROUTING FEEDBACK
 */
export interface SwitchRoutingModeAction extends Omit<SwitchEditModeAction, 'kind'> {
    kind: typeof SwitchRoutingModeAction.KIND;
}
export declare namespace SwitchRoutingModeAction {
    const KIND = "switchRoutingMode";
    function create(options: {
        elementsToActivate?: string[];
        elementsToDeactivate?: string[];
    }): SwitchRoutingModeAction;
}
export declare class SwitchRoutingModeCommand extends SwitchEditModeCommand {
    static KIND: string;
    constructor(action: SwitchRoutingModeAction);
}
/**
 * SOURCE AND TARGET EDGE FEEDBACK
 */
export interface DrawFeedbackEdgeSourceAction extends Action {
    kind: typeof DrawFeedbackEdgeSourceAction.KIND;
    elementTypeId: string;
    targetId: string;
}
export declare namespace DrawFeedbackEdgeSourceAction {
    const KIND = "drawFeedbackEdgeSource";
    function is(object: any): object is DrawFeedbackEdgeSourceAction;
    function create(options: {
        elementTypeId: string;
        targetId: string;
    }): DrawFeedbackEdgeSourceAction;
}
export declare class DrawFeedbackEdgeSourceCommand extends FeedbackCommand {
    protected action: DrawFeedbackEdgeSourceAction;
    static readonly KIND = "drawFeedbackEdgeSource";
    constructor(action: DrawFeedbackEdgeSourceAction);
    execute(context: CommandExecutionContext): CommandReturn;
}
/**
 * SOURCE AND TARGET MOUSE MOVE LISTENER
 */
export declare class FeedbackEdgeTargetMovingMouseListener extends FeedbackEdgeEndMovingMouseListener {
    constructor(anchorRegistry: AnchorComputerRegistry, feedbackDispatcher: IFeedbackActionDispatcher);
}
export declare class FeedbackEdgeSourceMovingMouseListener extends MouseListener implements Disposable {
    protected anchorRegistry: AnchorComputerRegistry;
    protected feedbackDispatcher: IFeedbackActionDispatcher;
    constructor(anchorRegistry: AnchorComputerRegistry, feedbackDispatcher: IFeedbackActionDispatcher);
    mouseMove(target: GModelElement, event: MouseEvent): Action[];
    protected computeAbsoluteAnchor(element: GConnectableElement, referencePoint: Point, offset?: number): Point;
    dispose(): void;
}
export declare class FeedbackEdgeRouteMovingMouseListener extends MouseListener {
    protected edgeRouterRegistry?: EdgeRouterRegistry | undefined;
    protected snapper?: ISnapper | undefined;
    protected pointPositionUpdater: PointPositionUpdater;
    constructor(edgeRouterRegistry?: EdgeRouterRegistry | undefined, snapper?: ISnapper | undefined);
    mouseDown(target: GModelElement, event: MouseEvent): Action[];
    mouseMove(target: GModelElement, event: MouseEvent): Action[];
    protected handleMoveOnClient(target: GModelElement, positionUpdate: Point, isSnap: boolean): Action[];
    protected toElementMove(element: GRoutingHandle, positionDelta: Point, isSnap: boolean): ElementMove | undefined;
    protected getSnappedHandlePosition(element: GRoutingHandle, point: Point, isSnap: boolean): Point;
    protected getHandlePosition(handle: GRoutingHandle): Point | undefined;
    mouseUp(_target: GModelElement, _event: MouseEvent): Action[];
    decorate(vnode: VNode, _element: GModelElement): VNode;
}
/**
 * UTILITY FUNCTIONS
 */
export declare function drawFeedbackEdgeSource(context: CommandExecutionContext, targetId: string, elementTypeId: string): void;
//# sourceMappingURL=edge-edit-tool-feedback.d.ts.map